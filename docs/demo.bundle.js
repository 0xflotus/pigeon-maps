webpackJsonp([0],[,,,,function(t,e,o){"use strict";e.React=o(0),e.ReactDOM=o(3),e.Component=e.React.Component},,,function(t,e,o){t.exports=o(23)()},,,,,,,,,,,,function(t,e,o){t.exports=o(20)},function(t,e,o){"use strict";var n=o(4),a=o(21),r=function(t){return t&&t.__esModule?t:{default:t}}(a);o(35),n.ReactDOM.render(n.React.createElement(r.default,null),document.getElementById("root"))},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=o(4),u=o(22),c=n(u),h=o(28),p=n(h),f="pk.eyJ1IjoicGlnZW9uLW1hcHMiLCJhIjoiY2l3eW01Y2E2MDA4dzJ6cWh5dG9pYWlwdiJ9.cvdCf-7PymM1Y3xp5j71NQ",m=function(t,e){return function(o,n,a){var r="undefined"!=typeof window&&window.devicePixelRatio>=2?"@2x":"";return"https://api.mapbox.com/styles/v1/mapbox/"+t+"/tiles/256/"+a+"/"+o+"/"+n+r+"?access_token="+e}},d={osm:function(t,e,o){return"https://"+String.fromCharCode(97+(t+e+o)%3)+".tile.openstreetmap.org/"+o+"/"+t+"/"+e+".png"},wikimedia:function(t,e,o){return"https://maps.wikimedia.org/osm-intl/"+o+"/"+t+"/"+e+("undefined"!=typeof window&&window.devicePixelRatio>=2?"@2x":"")+".png"},stamen:function(t,e,o){return"https://stamen-tiles.a.ssl.fastly.net/terrain/"+o+"/"+t+"/"+e+("undefined"!=typeof window&&window.devicePixelRatio>=2?"@2x":"")+".jpg"},streets:m("streets-v10",f),satellite:m("satellite-streets-v10",f),outdoors:m("outdoors-v10",f),light:m("light-v9",f),dark:m("dark-v9",f)},v=function(t){function e(t){a(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.zoomIn=function(){o.setState({zoom:Math.min(o.state.zoom+1,18)})},o.zoomOut=function(){o.setState({zoom:Math.max(o.state.zoom-1,1)})},o.handleBoundsChange=function(t){var e=t.center,n=t.zoom,a=t.bounds;t.initial&&console.log("Got initial bounds: ",a),o.setState({center:e,zoom:n})},o.handleClick=function(t){var e=(t.event,t.latLng),o=t.pixel;console.log("Map clicked!",e,o)},o.handleMarkerClick=function(t){var e=(t.event,t.payload),o=t.anchor;console.log("Marker #"+e+" clicked at: ",o)},o.handleAnimationStart=function(){o.setState({animating:!0})},o.handleAnimationStop=function(){o.setState({animating:!1})},o.state={center:[50.879,4.6997],zoom:13,provider:"outdoors",zoomOnMouseWheel:!0,animating:!1,zoomSnap:!1},o}return i(e,t),l(e,[{key:"render",value:function(){var t=this,e=this.state,o=e.center,n=e.zoom,a=e.provider,r=e.zoomOnMouseWheel,i=e.zoomSnap,l=e.animating;return s.React.createElement("div",{style:{textAlign:"center",marginTop:50}},s.React.createElement(c.default,{center:o,zoom:n,provider:d[a],onBoundsChanged:this.handleBoundsChange,onClick:this.handleClick,onAnimationStart:this.handleAnimationStart,onAnimationStop:this.handleAnimationStop,zoomOnMouseWheel:r,zoomSnap:i,width:600,height:400},s.React.createElement(p.default,{anchor:[50.879,4.6997],payload:1,onClick:this.handleMarkerClick}),s.React.createElement(p.default,{anchor:[50.874,4.6947],payload:2,onClick:this.handleMarkerClick})),s.React.createElement("div",null,s.React.createElement("button",{onClick:this.zoomIn},"Zoom In"),s.React.createElement("button",{onClick:this.zoomOut},"Zoom Out")," ",Math.round(1e4*o[0])/1e4," x ",Math.round(1e4*o[1])/1e4," @ ",Math.round(100*n)/100," - ",l?"animating":"stopped"),s.React.createElement("div",{style:{marginTop:20}},Object.keys(d).map(function(e){return s.React.createElement("button",{key:e,onClick:function(){return t.setState({provider:e})},style:{fontWeight:a===e?"bold":"normal"}},e)})),s.React.createElement("div",{style:{marginTop:20}},s.React.createElement("button",{onClick:function(){return t.setState({zoomOnMouseWheel:!r})}},r?"Disable wheel scroll":"Enable wheel scroll"),s.React.createElement("button",{onClick:function(){return t.setState({zoomSnap:!i})}},i?"Disable zoom snap":"Enable zoom snap")))}}]),e}(s.Component);e.default=v},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,o){return"https://maps.wikimedia.org/osm-intl/"+o+"/"+t+"/"+e+("undefined"!=typeof window&&window.devicePixelRatio>=2?"@2x":"")+".png"}function u(t,e){return t/Math.pow(2,e)*360-180}function c(t,e){var o=Math.PI-2*Math.PI*t/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(o)-Math.exp(-o)))}function h(t,e){var o=(0,M.default)(t);return[e.clientX-o.x,e.clientY-o.y]}function p(t){return t*(2-t)}Object.defineProperty(e,"__esModule",{value:!0});var f=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),m=o(4),d=o(7),v=n(d),g=o(25),M=n(g),_=o(26),w=n(_),y=o(27),b=n(y),x=300,S=1500,T=150,C=40,z=2,k=300,P=60,E=function(){},O=function(t,e){return(t+180)/360*Math.pow(2,e)},R=function(t,e){return(1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,e)},A=u(0,10),D=c(Math.pow(2,10),10),Z=u(Math.pow(2,10),10),L=c(0,10),W=function(t){function e(t){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.setCenterZoomTarget=function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:x;if(o.props.animate){if(o._isAnimating){window.cancelAnimationFrame(o._animFrame);var i=o.animationStep(window.performance.now()),l=i.centerStep,s=i.zoomStep;o._centerStart=l,o._zoomStart=s}else o._isAnimating=!0,o._centerStart=o.limitCenterAtZoom([o._lastCenter[0],o._lastCenter[1]],o._lastZoom),o._zoomStart=o._lastZoom,o.onAnimationStart();o._animationStart=window.performance.now(),o._animationEnd=o._animationStart+r,a?(o._zoomAround=a,o._centerTarget=o.calculateZoomCenter(o._lastCenter,a,o._lastZoom,e)):(o._zoomAround=null,o._centerTarget=t),o._zoomTarget=e,o._animFrame=window.requestAnimationFrame(o.animate)}else if(a){var u=o.calculateZoomCenter(o._lastCenter,a,o._lastZoom,e);o.setCenterZoom(u,e,n)}else o.setCenterZoom(t,e,n)},o.animationStep=function(t){var e=o._animationEnd-o._animationStart,n=Math.max(t-o._animationStart,0),a=p(n/e),r=(o._zoomTarget-o._zoomStart)*a,i=o._zoomStart+r;if(o._zoomAround){return{centerStep:o.calculateZoomCenter(o._centerStart,o._zoomAround,o._zoomStart,i),zoomStep:i}}return{centerStep:[o._centerStart[0]+(o._centerTarget[0]-o._centerStart[0])*a,o._centerStart[1]+(o._centerTarget[1]-o._centerStart[1])*a],zoomStep:i}},o.animate=function(t){if(t>=o._animationEnd)o._isAnimating=!1,o.onAnimationStop(),o.setCenterZoom(o._centerTarget,o._zoomTarget);else{var e=o.animationStep(t),n=e.centerStep,a=e.zoomStep;o.setCenterZoom(n,a),o._animFrame=window.requestAnimationFrame(o.animate)}},o.stopAnimating=function(){o._isAnimating&&(o._isAnimating=!1,o.onAnimationStop(),window.cancelAnimationFrame(o._animFrame))},o.limitCenterAtZoom=function(t,e){return[Math.max(Math.min(isNaN(t[0])?o.state.center[0]:t[0],L),D),Math.max(Math.min(isNaN(t[1])?o.state.center[1]:t[1],Z),A)]},o.onAnimationStart=function(){o.props.onAnimationStart&&o.props.onAnimationStart()},o.onAnimationStop=function(){o.props.onAnimationStop&&o.props.onAnimationStop()},o.setCenterZoom=function(t,e){var n=o.limitCenterAtZoom(t,e);if(Math.round(o.state.zoom)!==Math.round(e)){var r=o.tileValues(o.props,o.state),i=o.tileValues(o.props,{center:n,zoom:e}),l=o.state.oldTiles;o.setState({oldTiles:l.filter(function(t){return t.roundedZoom!==r.roundedZoom}).concat(r)},E);for(var s={},u=i.tileMinX;u<=i.tileMaxX;u++)for(var c=i.tileMinY;c<=i.tileMaxY;c++){var h=u+"-"+c+"-"+i.roundedZoom;s[h]=!1}o._loadTracker=s}o.setState({center:n,zoom:e},E);var p=o.props.zoom?o.props.zoom:o._lastZoom,f=o.props.center?o.props.center:o._lastCenter;(Math.abs(p-e)>.001||Math.abs(f[0]-n[0])>1e-5||Math.abs(f[1]-n[1])>1e-5)&&(o._lastZoom=e,o._lastCenter=[].concat(a(n)),o.syncToProps(n,e))},o.imageLoaded=function(t){if(o._loadTracker&&t in o._loadTracker){o._loadTracker[t]=!0;0===Object.keys(o._loadTracker).filter(function(t){return!o._loadTracker[t]}).length&&o.setState({oldTiles:[]},E)}},o.handleTouchStart=function(t){if(1===t.touches.length){var e=t.touches[0],n=h(o._containerRef,e);if(o.coordsInside(n))if(o._touchStartPixel=[n],o.stopAnimating(),o._lastTap&&window.performance.now()-o._lastTap<k){t.preventDefault();var a=o.pixelToLatLng(o._touchStartPixel[0]);o.setCenterZoomTarget(null,Math.max(1,Math.min(o.state.zoom+1,18)),!1,a)}else o._lastTap=window.performance.now(),o.startTrackingMoveEvents(n)}else if(2===t.touches.length&&o._touchStartPixel){t.preventDefault(),o.stopTrackingMoveEvents(),(o.state.pixelDelta||o.state.zoomDelta)&&o.sendDeltaChange();var r=h(o._containerRef,t.touches[0]),i=h(o._containerRef,t.touches[1]);o._touchStartPixel=[r,i],o._touchStartMidPoint=[(r[0]+i[0])/2,(r[1]+i[1])/2],o._touchStartDistance=Math.sqrt(Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2))}},o.handleTouchMove=function(t){if(1===t.touches.length&&o._touchStartPixel){t.preventDefault();var e=t.touches[0],n=h(o._containerRef,e);o.trackMoveEvents(n),o.setState({pixelDelta:[n[0]-o._touchStartPixel[0][0],n[1]-o._touchStartPixel[0][1]]},E)}else if(2===t.touches.length&&o._touchStartPixel){var a=o.props,r=a.width,i=a.height,l=o.state.zoom;t.preventDefault();var s=h(o._containerRef,t.touches[0]),u=h(o._containerRef,t.touches[1]),c=[(s[0]+u[0])/2,(s[1]+u[1])/2],p=[c[0]-o._touchStartMidPoint[0],c[1]-o._touchStartMidPoint[1]],f=Math.sqrt(Math.pow(s[0]-u[0],2)+Math.pow(s[1]-u[1],2)),m=Math.min(18,l+Math.log2(f/o._touchStartDistance))-l,d=Math.pow(2,m),v=[(r/2-c[0])*(d-1),(i/2-c[1])*(d-1)];o.setState({zoomDelta:m,pixelDelta:[v[0]+p[0]*d,v[1]+p[1]*d]},E)}},o.handleTouchEnd=function(t){if(o._touchStartPixel){var e=o.sendDeltaChange(),n=e.center,a=e.zoom;if(0===t.touches.length){var r=o._touchStartPixel[0],i=h(o._containerRef,t.changedTouches[0]);(Math.abs(r[0]-i[0])>z||Math.abs(r[1]-i[1])>z)&&(t.preventDefault(),o.throwAfterMoving(i,n,a)),o._touchStartPixel=null}else if(1===t.touches.length){t.preventDefault();var l=h(o._containerRef,t.touches[0]);if(o._touchStartPixel=[l],o.startTrackingMoveEvents(l),o.props.zoomSnap){var s=o.pixelToLatLng(o._touchStartMidPoint),u=Math.max(1,Math.min(Math.round(o.state.zoom),18));o.setCenterZoomTarget(s,u,!1,s)}}}},o.handleMouseDown=function(t){var e=h(o._containerRef,t);if(0===t.button&&(!t.target||!(0,w.default)(t.target,"pigeon-drag-block"))&&o.coordsInside(e))if(o.stopAnimating(),t.preventDefault(),o._lastClick&&window.performance.now()-o._lastClick<k){var n=o.pixelToLatLng(o._mousePosition);o.setCenterZoomTarget(null,Math.max(1,Math.min(o.state.zoom+1,18)),!1,n)}else o._lastClick=window.performance.now(),o._mouseDown=!0,o._dragStart=e,o.startTrackingMoveEvents(e)},o.handleMouseMove=function(t){o._mousePosition=h(o._containerRef,t),o._mouseDown&&o._dragStart&&(o.trackMoveEvents(o._mousePosition),o.setState({pixelDelta:[o._mousePosition[0]-o._dragStart[0],o._mousePosition[1]-o._dragStart[1]]},E))},o.handleMouseUp=function(t){var e=o.state.pixelDelta;if(o._mouseDown){o._mouseDown=!1;var n=h(o._containerRef,t);if(!o.props.onClick||t.target&&(0,w.default)(t.target,"pigeon-click-block")||e&&!(Math.abs(e[0])+Math.abs(e[1])<=z)){var a=o.sendDeltaChange(),r=a.center,i=a.zoom;o.throwAfterMoving(n,r,i)}else{var l=o.pixelToLatLng(n);o.props.onClick({event:t,latLng:l,pixel:n}),o.setState({pixelDelta:null},E)}}},o.startTrackingMoveEvents=function(t){o._moveEvents=[{timestamp:window.performance.now(),coords:t}]},o.stopTrackingMoveEvents=function(){o._moveEvents=[]},o.trackMoveEvents=function(t){var e=window.performance.now();e-o._moveEvents[o._moveEvents.length-1].timestamp>40&&(o._moveEvents.push({timestamp:e,coords:t}),o._moveEvents.length>2&&o._moveEvents.shift())},o.throwAfterMoving=function(t,e,n){var a=o.props,r=a.width,i=a.height,l=a.animate,s=window.performance.now(),h=o._moveEvents.shift();if(h&&l){var p=Math.max(s-h.timestamp,1),f=[(t[0]-h.coords[0])/p*120,(t[1]-h.coords[1])/p*120],m=Math.sqrt(f[0]*f[0]+f[1]*f[1]);if(m>C){var d=Math.sqrt(r*r+i*i),v=S*m/d,g=u(O(e[1],n)-f[0]/256,n),M=c(R(e[0],n)-f[1]/256,n);o.setCenterZoomTarget([M,g],n,!1,null,v)}}o.stopTrackingMoveEvents()},o.sendDeltaChange=function(){var t=o.state,e=t.center,n=t.zoom,a=t.pixelDelta,r=t.zoomDelta,i=e[0],l=e[1];return(a||0!==r)&&(l=u(O(e[1],n+r)-(a?a[0]/256:0),n+r),i=c(R(e[0],n+r)-(a?a[1]/256:0),n+r),o.setCenterZoom([i,l],n+r)),o.setState({pixelDelta:null,zoomDelta:0},E),{center:o.limitCenterAtZoom([i,l],n+r),zoom:n+r}},o.getBounds=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.state.center,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.zoomPlusDelta(),n=o.props,a=n.width,r=n.height;return{ne:o.pixelToLatLng([a-1,0],t,e),sw:o.pixelToLatLng([0,r-1],t,e)}},o.syncToProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.state.center,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.state.zoom,n=o.props.onBoundsChanged;if(n){n({center:t,zoom:e,bounds:o.getBounds(t,e),initial:!o._boundsSynced}),o._boundsSynced=!0}},o.handleWheel=function(t){var e=o.props,n=e.zoomOnMouseWheel,a=e.zoomSnap;if(n||t.metaKey){t.preventDefault();var r=-t.deltaY/T;if(!a&&o._zoomTarget){var i=o._zoomTarget-o.state.zoom;o.zoomAroundMouse(r+i,a)}else o.zoomAroundMouse(r,a)}else o.state.showMetaWarning||o.setState({showMetaWarning:!0}),o._metaTimeout&&window.clearTimeout(o._metaTimeout),o._metaTimeout=window.setTimeout(o.clearMetaWarning,300)},o.clearMetaWarning=function(){o.setState({showMetaWarning:!1})},o.zoomAroundMouse=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=o.state.zoom;if(!(!o._mousePosition||1===n&&t<0||18===n&&t>0)){var a=o.pixelToLatLng(o._mousePosition),r=n+t;e&&(r=t<0?Math.floor(r):Math.ceil(r)),r=Math.max(1,Math.min(r,18)),o.setCenterZoomTarget(null,r,!1,a)}},o.zoomPlusDelta=function(){return o.state.zoom+o.state.zoomDelta},o.pixelToLatLng=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.state.center,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.zoomPlusDelta(),a=o.props,r=a.width,i=a.height,l=o.state.pixelDelta,s=[(t[0]-r/2-(l?l[0]:0))/256,(t[1]-i/2-(l?l[1]:0))/256],h=O(e[1],n)+s[0],p=R(e[0],n)+s[1];return o.limitCenterAtZoom([c(p,n),u(h,n)],n)},o.latLngToPixel=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.state.center,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.zoomPlusDelta(),a=o.props,r=a.width,i=a.height,l=o.state.pixelDelta,s=o.limitCenterAtZoom(e),u=O(s[1],n),c=R(s[0],n),h=O(t[1],n),p=R(t[0],n);return[256*(h-u)+r/2+(l?l[0]:0),256*(p-c)+i/2+(l?l[1]:0)]},o.calculateZoomCenter=function(t,e,n,a){var r=o.props,i=r.width,l=r.height,s=o.latLngToPixel(e,t,n),u=o.latLngToPixel(e,t,a),c=o.pixelToLatLng([i/2+u[0]-s[0],l/2+u[1]-s[1]],t,a);return o.limitCenterAtZoom(c,a)},o.setRef=function(t){o._containerRef=t},o.syncToProps=(0,b.default)(o.syncToProps,P),o._mousePosition=null,o._dragStart=null,o._mouseDown=!1,o._moveEvents=[],o._lastClick=null,o._lastTap=null,o._touchStartPixel=null,o._isAnimating=!1,o._animationStart=null,o._animationEnd=null,o._centerTarget=null,o._zoomTarget=null,o._lastZoom=t.defaultZoom?t.defaultZoom:t.zoom,o._lastCenter=t.defaultCenter?t.defaultCenter:t.center,o._boundsSynced=!1,o.state={zoom:o._lastZoom,center:o._lastCenter,zoomDelta:0,pixelDelta:null,oldTiles:[],showMetaWarning:!1},o}return l(e,t),f(e,[{key:"componentDidMount",value:function(){var t=window.addEventListener;t("mousedown",this.handleMouseDown),t("mouseup",this.handleMouseUp),t("mousemove",this.handleMouseMove),t("touchstart",this.handleTouchStart),t("touchmove",this.handleTouchMove),t("touchend",this.handleTouchEnd),this.syncToProps()}},{key:"componentWillUnmount",value:function(){var t=window.removeEventListener;t("mousedown",this.handleMouseDown),t("mouseup",this.handleMouseUp),t("mousemove",this.handleMouseMove),t("touchstart",this.handleTouchStart),t("touchmove",this.handleTouchMove),t("touchend",this.handleTouchEnd)}},{key:"componentWillReceiveProps",value:function(t){if((t.center||t.zoom)&&(t.center&&(t.center[0]!==this.props.center[0]||t.center[1]!==this.props.center[1])||t.zoom!==this.props.zoom)){var e=t.center?t.center:this.state.center,o=t.zoom?t.zoom:this.state.zoom;(Math.abs(o-this.state.zoom)>.001||Math.abs(e[0]-this.state.center[0])>1e-4||Math.abs(e[1]-this.state.center[1])>1e-4)&&this.setCenterZoomTarget(e,o,!0)}}},{key:"coordsInside",value:function(t){var e=this.props,o=e.width,n=e.height;if(t[0]<0||t[1]<0||t[0]>=o||t[1]>=n)return!1;var a=this._containerRef,r=(0,M.default)(a),i=document.elementFromPoint(t[0]+r.x,t[1]+r.y);return a===i||a.contains(i)}},{key:"tileValues",value:function(t,e){var o=t.width,n=t.height,a=e.center,r=e.zoom,i=e.pixelDelta,l=e.zoomDelta,s=Math.round(r+(l||0)),u=r+(l||0)-s,c=Math.pow(2,u),h=o/c,p=n/c,f=O(a[1],s)-(i?i[0]/256/c:0),m=R(a[0],s)-(i?i[1]/256/c:0),d=h/2/256,v=p/2/256;return{tileMinX:Math.floor(f-d),tileMaxX:Math.floor(f+d),tileMinY:Math.floor(m-v),tileMaxY:Math.floor(m+v),tileCenterX:f,tileCenterY:m,roundedZoom:s,zoomDelta:l||0,scaleWidth:h,scaleHeight:p,scale:c}}},{key:"renderTiles",value:function(){for(var t=this,e=this.state.oldTiles,o=this.props.provider||s,n=this.tileValues(this.props,this.state),a=n.tileMinX,r=n.tileMaxX,i=n.tileMinY,l=n.tileMaxY,u=n.tileCenterX,c=n.tileCenterY,h=n.roundedZoom,p=n.scaleWidth,f=n.scaleHeight,d=n.scale,v=[],g=0;g<e.length;g++){var M=e[g],_=M.roundedZoom-h;if(!(Math.abs(_)>4||0===_))for(var w=1/Math.pow(2,_),y=256*-(a-M.tileMinX*w),b=256*-(i-M.tileMinY*w),x=Math.max(M.tileMinX,0),S=Math.max(M.tileMinY,0),T=Math.min(M.tileMaxX,Math.pow(2,M.roundedZoom)-1),C=Math.min(M.tileMaxY,Math.pow(2,M.roundedZoom)-1),z=x;z<=T;z++)for(var k=S;k<=C;k++)v.push({key:z+"-"+k+"-"+M.roundedZoom,url:o(z,k,M.roundedZoom),left:y+256*(z-M.tileMinX)*w,top:b+256*(k-M.tileMinY)*w,width:256*w,height:256*w,active:!1})}for(var P=Math.max(a,0),E=Math.max(i,0),O=Math.min(r,Math.pow(2,h)-1),R=Math.min(l,Math.pow(2,h)-1),A=P;A<=O;A++)for(var D=E;D<=R;D++)v.push({key:A+"-"+D+"-"+h,url:o(A,D,h),left:256*(A-a),top:256*(D-i),width:256,height:256,active:!0});var Z={width:p,height:f,position:"absolute",top:0,left:0,overflow:"hidden",willChange:"transform",transform:"scale("+d+", "+d+")",transformOrigin:"top left"},L=-(256*(u-a)-p/2),W=-(256*(c-i)-f/2),j={position:"absolute",width:256*(r-a+1),height:256*(l-i+1),willChange:"transform",transform:"translate("+L+"px, "+W+"px)"};return m.React.createElement("div",{style:Z},m.React.createElement("div",{style:j},v.map(function(e){return m.React.createElement("img",{key:e.key,src:e.url,width:e.width,height:e.height,onLoad:function(){return t.imageLoaded(e.key)},style:{position:"absolute",left:e.left,top:e.top,willChange:"transform",transform:e.transform,transformOrigin:"top left",opacity:1}})})))}},{key:"renderOverlays",value:function(){var t=this,e=this.props,o=e.width,n=e.height,a=this.state.center,r={bounds:this.getBounds(),zoom:this.zoomPlusDelta(),center:a,width:o,height:n},i=void 0;i=m.React.Children.map(this.props.children,function(e){var o=e.props,n=o.anchor,i=o.position,l=o.offset,s=t.latLngToPixel(n||i||a);return m.React.cloneElement(e,{left:s[0]-(l?l[0]:0),top:s[1]-(l?l[1]:0),latLngToPixel:t.latLngToPixel,pixelToLatLng:t.pixelToLatLng,mapState:r})});var l={position:"absolute",width:o,height:n,top:0,left:0};return m.React.createElement("div",{style:l},i)}},{key:"renderAttribution",value:function(){var t=this.props,e=t.attribution,o=t.attributionPrefix;if(!1===e)return null;var n={position:"absolute",bottom:0,right:0,fontSize:"11px",padding:"2px 5px",background:"rgba(255, 255, 255, 0.7)",fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",color:"#333"},a={color:"#0078A8",textDecoration:"none"};return m.React.createElement("div",{key:"attr",className:"pigeon-attribution",style:n},!1===o?null:m.React.createElement("span",null,o||m.React.createElement("a",{href:"https://github.com/mariusandra/pigeon-maps",style:a},"Pigeon")," | "),e||m.React.createElement("span",null," © ",m.React.createElement("a",{href:"https://www.openstreetmap.org/copyright",style:a},"OpenStreetMap")," contributors"))}},{key:"renderMetaWarning",value:function(){var t=this.props,e=t.zoomOnMouseWheel,o=t.mouseWheelMetaText,n=t.width,a=t.height;if(!e&&o){var r={position:"absolute",top:0,left:0,width:n,height:a,overflow:"hidden",pointerEvents:"none",opacity:this.state.showMetaWarning?100:0,transition:"opacity 300ms",background:"rgba(0,0,0,0.5)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",fontSize:22,fontFamily:'"Arial", sans-serif'},i=window.navigator&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?"⌘":"⊞";return m.React.createElement("div",{style:r},o.replace("META",i))}return null}},{key:"render",value:function(){var t=this.props,e=t.width,o=t.height,n={width:e,height:o,position:"relative",display:"inline-block",overflow:"hidden",background:"#dddddd"};return m.React.createElement("div",{style:n,ref:this.setRef,onWheel:this.handleWheel},this.renderTiles(),this.renderOverlays(),this.renderAttribution(),this.renderMetaWarning())}}]),e}(m.Component);W.propTypes={center:v.default.array,defaultCenter:v.default.array,zoom:v.default.number,defaultZoom:v.default.number,width:v.default.number,height:v.default.number,provider:v.default.func,children:v.default.node,animate:v.default.bool,zoomOnMouseWheel:v.default.bool,mouseWheelMetaText:v.default.string,attribution:v.default.any,attributionPrefix:v.default.any,zoomSnap:v.default.bool,onClick:v.default.func,onBoundsChanged:v.default.func,onAnimationStart:v.default.func,onAnimationStop:v.default.func},W.defaultProps={animate:!0,zoomOnMouseWheel:!0,mouseWheelMetaText:"Use META+wheel to zoom!"},e.default=W},function(t,e,o){"use strict";var n=o(1),a=o(2),r=o(24);t.exports=function(){function t(t,e,o,n,i,l){l!==r&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var o={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return o.checkPropTypes=n,o.PropTypes=o,o}},function(t,e,o){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,o){"use strict";function n(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,o){"use strict";function n(t,e){for(;t;){if(t.classList.contains(e))return!0;t=t.offsetParent}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,o){"use strict";function n(t,e){var o=void 0;return function(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];var i=this;clearTimeout(o),o=setTimeout(function(){return t.apply(i,a)},e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,o){t.exports=o(29)},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=o(30),u=o(7),c=n(u),h=o(31),p=n(h),f=o(32),m=n(f),d=o(33),v=n(d),g=o(34),M=n(g),_={left:15,top:31},w=function(t){function e(t){a(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.eventParameters=function(t){return{event:t,anchor:o.props.anchor,payload:o.props.payload}},o.handleClick=function(){o.props.onClick&&o.props.onClick(o.eventParameters())},o.handleContextMenu=function(){o.props.onContextMenu&&o.props.onContextMenu(o.eventParameters())},o.handleMouseOver=function(){o.props.onMouseOver&&o.props.onMouseOver(o.eventParameters()),o.setState({hover:!0})},o.handleMouseOut=function(){o.props.onMouseOut&&o.props.onMouseOut(o.eventParameters()),o.setState({hover:!1})},o.state={hover:!1},o}return i(e,t),l(e,[{key:"isRetina",value:function(){return"undefined"!=typeof window&&window.devicePixelRatio>=2}},{key:"isHover",value:function(){return"boolean"==typeof this.props.hover?this.props.hover:this.state.hover}},{key:"image",value:function(){return this.isRetina()?this.isHover()?M.default:m.default:this.isHover()?v.default:p.default}},{key:"componentDidMount",value:function(){(this.isRetina()?[m.default,M.default]:[p.default,v.default]).forEach(function(t){(new window.Image).src=t})}},{key:"render",value:function(){var t=this.props,e=t.left,o=t.top,n=t.onClick,a={position:"absolute",transform:"translate("+(e-_.left)+"px, "+(o-_.top)+"px)",cursor:n?"pointer":"default"};return s.React.createElement("div",{style:a,className:"pigeon-click-block",onClick:this.handleClick,onContextMenu:this.handleContextMenu,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},s.React.createElement("img",{src:this.image(),width:29,height:34,alt:""}))}}]),e}(s.Component);w.propTypes={anchor:c.default.array.isRequired,payload:c.default.any,hover:c.default.bool,onClick:c.default.func,onContextMenu:c.default.func,onMouseOver:c.default.func,onMouseOut:c.default.func,left:c.default.number,top:c.default.number,latLngToPixel:c.default.func,pixelToLatLng:c.default.func},e.default=w},function(t,e,o){"use strict";e.React=o(0),e.ReactDOM=o(3),e.Component=e.React.Component},function(t,e,o){t.exports=o.p+"pin.png"},function(t,e,o){t.exports=o.p+"pin@2x.png"},function(t,e,o){t.exports=o.p+"pin-hover.png"},function(t,e,o){t.exports=o.p+"pin-hover@2x.png"},function(t,e,o){t.exports=o.p+"index.html"}],[19]);